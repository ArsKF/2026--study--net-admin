---
## Author
author:
  name: Арсений Валерьевич Агаев
  email: 1032221668@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: Лабораторная работа №1
subtitle: Знакомство с Cisco Packet Tracer
license: CC BY
date: today
date-format: "YYYY-MM-DD" # Example: 2025-09-06
---
# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Арсений Валерьевич Агаев
  * студент
  * Российский университет дружбы народов им. П. Лумумбы
  * [1032221668@rudn.ru](mailto:1032221668@rudn.ru)

:::
::: {.column width="30%"}

:::
::::::::::::::

# Цели и задачи

Установка инструмента моделирования конфигурации сети Cisco Packet Tracer, знакомство с его интерфейсом.

- Установить на домашнем устройстве Cisco Packet Tracer.

- Построить простейшую сеть в Cisco Packet Tracer.

- Провести простейшую настройку оборудования.

# Содержание исследования

## Установка и отключение интернет соединения

Было установлено ПО Cisco Packet Tracer и, посредством Брандмауера Windows, заблокирован исходящий трафик от данного приложения. 

## Создание топологии на концентраторе

В рабочем пространстве программы Cisco Packet Tracer был создан новый проект. Для реализации топологии использован концентратор 
(Hub-PT) и четыре персональных компьютера (PC0 – PC3). Соединение выполнено прямым кабелем.

Каждому устройству присвоен статический IP-адрес:

- PC0: 192.168.1.11
- PC1: 192.168.1.12
- PC2: 192.168.1.13
- PC3: 192.168.1.14

Маска подсети для всех устройств: 255.255.255.0.

## Создание топологии на концентраторе

![Топология сети с концентратором](image/1.png){#fig-001 width=70%}

## Анализ трафика в сети с концентратором

В режиме моделирования (Simulation) был отправлен простой PDU (ping) от PC0 к PC2.

В списке событий зафиксировано появление пакетов двух протоколов:

1.  ARP (Address Resolution Protocol): Так как PC0 знает IP-адрес получателя, но не знает его MAC-адрес, он отправляет широковещательный запрос.

2.  ICMP (Internet Control Message Protocol): Непосредственно пакет эхо-запроса (ping), который отправляется после разрешения адреса.

Концентратор не анализирует MAC-адреса. Получив сигнал на один порт, он ретранслирует его на все остальные активные порты. Таким образом, пакеты 
ARP и ICMP доходят до всех ПК, но принимают их только те устройства, которым они адресованы (PC2). Остальные отбрасывают пакет.

## Анализ трафика в сети с концентратором

Структура кадра Ethernet:

Кадр Ethernet II (используемый для IP и ARP) имеет следующую структуру:

*   **Preamble (7 байт) + SFD (1 байт):** Синхронизация.
*   **Destination MAC (6 байт):** Адрес получателя.
*   **Source MAC (6 байт):** Адрес отправителя.
*   **Type (2 байт):** Указывает протокол верхнего уровня (например, 0x0800 для IPv4, 0x0806 для ARP).
*   **Data (46–1500 байт):** Полезная нагрузка (пакет IP/ICMP).
*   **FCS (4 байта):** Контрольная сумма.

## Анализ трафика в сети с концентратором

Изменения в кадре при передвижении:

Само тело кадра (Data) не меняется. Однако при ответе (Reply) Source MAC и Destination MAC меняются местами.

## Анализ трафика в сети с концентратором

Структура MAC-адреса:

MAC-адрес состоит из 48 бит (6 байт), записывается в шестнадцатеричном виде.

*   Первые 3 байта (OUI): Идентификатор производителя (Organizationally Unique Identifier).
*   Последние 3 байта (NIC Specific): Уникальный номер сетевого интерфейса, присваиваемый производителем.

## Анализ трафика в сети с концентратором

![Анализ PDU в сети с концентратором](image/2.png){#fig-002 width=70%}

## Моделирование коллизий

Был смоделирован сценарий одновременной отправки пакетов:

1.  PC0 -> PC2
2.  PC2 -> PC0

При нажатии кнопки «Play» произошла коллизия.

Причина коллизии:

Концентратор образует единый домен коллизий (collision domain). Среда передачи является разделяемой, и связь работает в режиме полудуплекса (Half-Duplex). 
Устройства не могут передавать и принимать данные одновременно. Когда два устройства начинают передачу одновременно, сигналы накладываются друг на друга и искажаются.

В заголовках пакетов (PDU) при коллизии информация обычно становится недоступной или отображается как поврежденная, так как физический сигнал был разрушен.

## Создание топологии на коммутаторе (Switch)

Создана новая часть сети с использованием коммутатора Cisco 2950-24 и четырех компьютеров (PC4 – PC7).
IP-адресация: 192.168.1.21 – 192.168.1.24.

![Топология сети с коммутатором](image/3.png){#fig-003 width=70%}

## Сравнение работы ARP на коммутаторе

При отправке пакета от PC4 к PC6:

1.  ARP Request (Запрос): Коммутатор, как и концентратор, рассылает широковещательный запрос (Broadcast, MAC: FFFF.FFFF.FFFF) на все порты, кроме того,
с которого пришел запрос, так как он еще не знает, где находится получатель.

2.  ARP Reply (Ответ) и ICMP: В отличие от концентратора, коммутатор запоминает MAC-адреса отправителей в своей таблице коммутации (MAC Address Table).
Поэтому ответный пакет (unicast) он передает только на порт, к которому подключен адресат.

Отличие от концентратора: Концентратор всегда рассылает всем, коммутатор делает это только для неизвестных адресатов или широковещательных пакетов.
После обучения коммутатор обеспечивает адресную передачу.

Структура кадра Ethernet и MAC-адресов аналогична описанной ранее. Тип кадра — Ethernet II.

## Отсутствие коллизий на коммутаторе

При одновременной отправке пакетов (PC4 -> PC6 и PC6 -> PC4) коллизия не возникает.

Пояснение:

Коммутатор обеспечивает микросегментацию сети. Каждый порт коммутатора является отдельным доменом коллизий. Связь между коммутатором и ПК работает в 
режиме **полного дуплекса (Full-Duplex)**. Это позволяет одновременно передавать и принимать данные по разным парам проводов.

## Отсутствие коллизий на коммутаторе

![Успешная передача встречного трафика на коммутаторе](image/4.png){#fig-004 width=70%}

## Взаимодействие концентратора и коммутатора

Концентратор и коммутатор соединены кроссовым кабелем. Запущен пинг между PC0 (сегмент Hub) и PC4 (сегмент Switch).

Причина возникновения коллизии и последующего успеха:

Сначала возникает коллизия в сегменте концентратора. Это происходит потому, что сегмент концентратора работает в полудуплексе. Если коммутатор пытается 
передать пакет в сторону концентратора (ответ на ARP или ICMP), а в это время любой ПК на концентраторе (например, PC0) тоже начинает передачу, происходит коллизия.
Однако, благодаря протоколу **CSMA/CD** (Carrier Sense Multiple Access with Collision Detection), устройства обнаруживают коллизию, посылают jam-сигнал, выжидают 
случайный интервал времени (backoff) и повторяют передачу. Со второй канал оказывается свободен, и пакеты успешно доходят.

## Анализ протокола STP

В режиме моделирования были перехвачены пакеты STP (Spanning Tree Protocol).

Структура кадра Ethernet для STP:

В отличие от IP/ARP пакетов, STP использует кадр стандарта **IEEE 802.3**.

*   **Destination MAC:** 01:80:C2:00:00:00 (Multicast адрес для STP).
*   **Поле после Src MAC:** В кадре 802.3 это поле обозначает **Length (Длину)**, а не Type. Если значение меньше 0x0600 (1536), это длина.
*   **LLC (Logical Link Control):** Следует сразу за полем длины. Содержит DSAP (0x42) и SSAP (0x42), что идентифицирует STP.

## Маршрутизатор и анализ CDP

Добавлен маршрутизатор Cisco 2811, соединен с коммутатором, настроен шлюз 192.168.1.254. При пинге от PC3 к маршрутизатору наблюдались пакеты ARP, ICMP, STP и CDP.

Анализ пакета CDP (Cisco Discovery Protocol):
CDP — проприетарный протокол Cisco уровня 2.

Структура кадра:

*   **Тип кадра:** IEEE 802.3 с инкапсуляцией **SNAP** (Subnetwork Access Protocol).
*   **MAC-адрес получателя:** 01:00:0C:CC:CC:CC (Cisco Multicast).
*   **LLC Header:** DSAP (0xAA), SSAP (0xAA), Control (0x03).
*   **SNAP Header:** OUI (00:00:0C — Cisco) + Protocol ID (0x2000 — CDP).

Таким образом, для служебных протоколов (STP, CDP) используются вариации кадров 802.3/LLC/SNAP, тогда как для передачи данных пользователя (IP) используется Ethernet II.

## Маршрутизатор и анализ CDP

![Схема сети с маршрутизатором](image/5.png){#fig-005 width=70%}


# Результаты

Я успешно установил инструмент моделирования конфигурации сети 
Cisco Packet Tracer и познакомился с его интерфейсом.
